1. На мой взгляд , стоит убрать из клиентского кода всё что касается "Магаина" и создать для него 
отдельный класс. Такое решение будет соответствовать принципу единственной ответственности.
2. В классе Purchase появляется "магическое число" при инициалиации массива покупок Purchase[] purchases. 
Учитывая , что список покупок в этом магазине не может привышать ассотримент магазина, имеет смысл ограничить размет массива
, размером ассортимента магазина.